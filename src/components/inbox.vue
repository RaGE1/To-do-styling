<template>
  <div id="inbox-wrapper">
    <div class="flex pt-8 justify-between max-w-3xl">
      <div id="heading-wrapper" class="">
        <h1 class="text-lg font-bold">Inbox</h1>
      </div>
      <div id="buttons">
        <div>
          <ul class="flex">
            <li class="px-2">
              <button class="flex">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  data-svgs-path="sm1/comments.svg"
                >
                  <path
                    fill="currentColor"
                    fill-rule="nonzero"
                    d="M11.707 20.793A1 1 0 0 1 10 20.086V18H5a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-4.5l-2.793 2.793zM11 20.086L14.086 17H19a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H5a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h6v3.086z"
                  ></path>
                </svg>
                <span flex="text-s">Comments</span>
              </button>
            </li>
            <li class="px-2">
              <button class="flex">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                >
                  <path
                    d="M15 14.5a2 2 0 011.936 1.498L19.5 16a.5.5 0 010 1l-2.563.001a2.001 2.001 0 01-3.874 0L4.5 17a.5.5 0 010-1l8.564-.002A2 2 0 0115 14.5zm-.982 1.81l.005-.025-.005.026-.003.014-.004.025-.007.061A.897.897 0 0014 16.5l.008.125.007.047-.001.002.003.014.006.024h-.001l.004.018.016.058.007.021.004.013.009.026.013.033.012.027-.011-.026.019.043-.008-.017.029.06-.018-.037.048.09a1 1 0 001.784-.155l.015-.039.006-.018-.015.039.022-.06-.001-.001.016-.057.004-.018.005-.024.001-.006v-.001l.005-.033.008-.06A.877.877 0 0016 16.5l-.008-.124-.007-.051-.001-.001-.003-.014-.01-.047-.004-.016-.007-.024-.01-.034-.004-.012-.01-.03-.006-.013-.007-.017-.01-.026a.998.998 0 00-1.843.043l-.014.034-.007.022-.014.047-.002.009v.001l-.005.016-.01.047zM9 9.5a2 2 0 011.936 1.498L19.5 11a.5.5 0 010 1l-8.563.001a2.001 2.001 0 01-3.874 0L4.5 12a.5.5 0 010-1l2.564-.002A2 2 0 019 9.5zm0 1a.998.998 0 00-.93.634l-.014.034-.007.022-.014.047-.002.009v.001l-.005.016-.01.047.005-.025-.005.026-.003.014-.004.025-.007.061C8 11.441 8 11.471 8 11.5l.008.125.007.047-.001.002.003.014.006.024h-.001l.004.018.016.058.007.021.004.013.009.026.013.033.012.027-.011-.026.019.043-.008-.017.029.06-.018-.037.048.09a1 1 0 001.784-.155l.015-.039.006-.018-.015.039.022-.06-.001-.001.016-.057.004-.018.005-.024.001-.006v-.001l.005-.033.008-.06A.877.877 0 0010 11.5l-.008-.124-.007-.051-.001-.001-.003-.014-.01-.047-.004-.016-.007-.024-.01-.034-.004-.012-.01-.03-.006-.013-.007-.017-.01-.026A1.002 1.002 0 009 10.5zm6-6a2 2 0 011.936 1.498L19.5 6a.5.5 0 010 1l-2.563.001a2.001 2.001 0 01-3.874 0L4.5 7a.5.5 0 010-1l8.564-.002A2 2 0 0115 4.5zm0 1a.998.998 0 00-.93.634l-.014.034-.007.022-.014.047-.002.009v.001l-.005.016-.01.047.005-.025-.005.026-.003.014-.004.025-.007.061C14 6.441 14 6.471 14 6.5l.008.125.007.047-.001.002.003.014.006.024h-.001l.004.018.016.058.007.021.004.013.009.026.013.033.012.027-.011-.026.019.043-.008-.017.029.06-.018-.037.048.09a1 1 0 001.784-.155l.015-.039.006-.018-.015.039.022-.06-.001-.001.016-.057.004-.018.005-.024.001-.006v-.001l.005-.033.008-.06C16 6.557 16 6.528 16 6.5l-.008-.124-.007-.051-.001-.001-.003-.014-.01-.047-.004-.016-.007-.024-.01-.034-.004-.012-.01-.03-.006-.013-.007-.017-.01-.026A1.002 1.002 0 0015 5.5z"
                    fill="currentColor"
                    fill-rule="nonzero"
                  ></path>
                </svg>
                <span>View</span>
              </button>
            </li>
            <li class="px-2">
              <div>
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24">
                  <g
                    fill="none"
                    stroke="currentColor"
                    stroke-linecap="round"
                    transform="translate(3 10)"
                  >
                    <circle cx="2" cy="2" r="2"></circle>
                    <circle cx="9" cy="2" r="2"></circle>
                    <circle cx="16" cy="2" r="2"></circle>
                  </g>
                </svg>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
    <div>
      <div v-for="(task, idx) in tasks" :key="idx">
        <div class="flex py-2 hover:">
          <button
            class="rounded-full border-2 flex p-1 relative bg-gray-200 hover:bg-gray-300 pr-3"
            @click="callDelete(task)"
          ></button>
          <div class="pl-2 text-sm">{{ task.name }}</div>
        </div>

        <div class="text-xs pl-7">{{ task.description }}</div>
        <hr class="max-w-3xl" />
      </div>
    </div>
    <div></div>
  </div>
</template>

<script>
import { bus } from "../main";
export default {
  data() {
    return {
      tasks: [],
    };
  },
  methods: {
    callDelete(task) {
      console.log("delete called form inbox", task);
      bus.$emit("delete", task);
    },
  },
  created() {
    this.tasks = JSON.parse(localStorage.getItem("tasks"));
  },
};
</script>

<style></style>
